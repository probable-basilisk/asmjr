WHITESPACE = _{ " " | "\t" }

pretty_much_anything = { !(WHITESPACE | NEWLINE | "," | ":") ~ ANY }

value = @{ pretty_much_anything+ }
name = @{ pretty_much_anything+ }

comment = { "#" ~ (!NEWLINE ~ ANY)* }

alias = { "reg" ~ name ~ "=" ~ value }
constant = { "const" ~ name ~ "=" ~ value }
label = { name ~ ":" }
op = { name ~ (value ~ (","? ~ value)*)? }
empty = @{ WHITESPACE* }

line = _{ (comment | alias | constant | label | op | empty) ~ NEWLINE }

program = _{SOI ~ line* ~ EOI}
